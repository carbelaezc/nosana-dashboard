<template>
  <aside class="column has-background-white sidebar has-overflow-scroll" :class="{ 'is-hidden-touch': !showMenu }">
    <div class="mb-6 is-hidden-touch">
      <nuxt-link to="/">
        <logo width="160px" :animated="true" class="light-only" />
        <logo width="160px" :white="true" class="dark-only" :animated="true" />
      </nuxt-link>
    </div>
    <div class="menu">
      <ul class="menu-list is-size-5">
        <li>
          <nuxt-link to="/" active-class="is-active" @click="showMenu = false">
            <span class="icon is-small mr-4">
              <svg width="16" height="17" viewBox="0 0 16 17" fill="none">
                <path
                  d="M0.888889 9.38889H6.22222C6.71111 9.38889 7.11111 8.98889 7.11111 8.5V1.38889C7.11111 0.9 6.71111 0.5 6.22222 0.5H0.888889C0.4 0.5 0 0.9 0 1.38889V8.5C0 8.98889 0.4 9.38889 0.888889 9.38889ZM0.888889 16.5H6.22222C6.71111 16.5 7.11111 16.1 7.11111 15.6111V12.0556C7.11111 11.5667 6.71111 11.1667 6.22222 11.1667H0.888889C0.4 11.1667 0 11.5667 0 12.0556V15.6111C0 16.1 0.4 16.5 0.888889 16.5ZM9.77778 16.5H15.1111C15.6 16.5 16 16.1 16 15.6111V8.5C16 8.01111 15.6 7.61111 15.1111 7.61111H9.77778C9.28889 7.61111 8.88889 8.01111 8.88889 8.5V15.6111C8.88889 16.1 9.28889 16.5 9.77778 16.5ZM8.88889 1.38889V4.94444C8.88889 5.43333 9.28889 5.83333 9.77778 5.83333H15.1111C15.6 5.83333 16 5.43333 16 4.94444V1.38889C16 0.9 15.6 0.5 15.1111 0.5H9.77778C9.28889 0.5 8.88889 0.9 8.88889 1.38889Z"
                  fill="currentColor" />
              </svg>
            </span>
            <span>Dashboard</span>
          </nuxt-link>
        </li>
        <li>
          <nuxt-link to="/stake" active-class="is-active" @click="showMenu = false">
            <span class="icon is-small mr-4">
              <svg width="16" height="17" viewBox="0 0 16 17" fill="none">
                <g clip-path="url(#clip0_64_1076)">
                  <path
                    d="M0 13.1656V14.5C0 15.6031 2.6875 16.5 6 16.5C9.3125 16.5 12 15.6031 12 14.5V13.1656C10.7094 14.075 8.35 14.5 6 14.5C3.65 14.5 1.29062 14.075 0 13.1656ZM10 4.5C13.3125 4.5 16 3.60313 16 2.5C16 1.39688 13.3125 0.5 10 0.5C6.6875 0.5 4 1.39688 4 2.5C4 3.60313 6.6875 4.5 10 4.5ZM0 9.8875V11.5C0 12.6031 2.6875 13.5 6 13.5C9.3125 13.5 12 12.6031 12 11.5V9.8875C10.7094 10.95 8.34688 11.5 6 11.5C3.65313 11.5 1.29062 10.95 0 9.8875ZM13 10.2312C14.7906 9.88437 16 9.24063 16 8.5V7.16563C15.275 7.67812 14.2094 8.02813 13 8.24375V10.2312ZM6 5.5C2.6875 5.5 0 6.61875 0 8C0 9.38125 2.6875 10.5 6 10.5C9.3125 10.5 12 9.38125 12 8C12 6.61875 9.3125 5.5 6 5.5ZM12.8531 7.25938C14.7281 6.92188 16 6.25938 16 5.5V4.16563C14.8906 4.95 12.9844 5.37188 10.9781 5.47188C11.9 5.91875 12.5781 6.51875 12.8531 7.25938Z"
                    fill="currentColor" />
                </g>
                <defs>
                  <clipPath id="clip0_64_1076">
                    <rect width="16" height="16" fill="white" transform="translate(0 0.5)" />
                  </clipPath>
                </defs>
              </svg>
            </span>
            <span>Staking</span>
          </nuxt-link>
        </li>
        <li>
          <nuxt-link active-class="is-active" @click="showMenu = false" disabled>
            <span class="icon is-small mr-4">
              <svg width="16" height="17" viewBox="0 0 18 19" fill="none">
                <path
                  d="M16.3255 2.22974C16.2549 2.15236 16.1694 2.09007 16.074 2.04664C15.9787 2.0032 15.8756 1.97952 15.7708 1.97703C15.6661 1.97453 15.5619 1.99327 15.4647 2.03211C15.3674 2.07095 15.2789 2.12909 15.2047 2.20303L14.561 2.84463L15.6572 3.93799L16.29 3.30834C16.434 3.16791 16.5181 2.97722 16.5248 2.77619C16.5314 2.57515 16.46 2.37934 16.3255 2.22974ZM8.88609 12.3126H6.1875V9.61396L6.51797 9.2842L11.3745 4.43756H1.6875V16.8126H14.0625V7.1256L9.21586 11.9821L8.88609 12.3126ZM14.0625 5.53303L15.2153 4.37779L14.1223 3.28478L12.9674 4.43756H14.0625V5.53303Z"
                  fill="#666666" />
                <path d="M7.3125 11.1875H8.41957L14.0625 5.53297V4.4375H12.9674L7.3125 10.0804V11.1875Z"
                  fill="currentColor" />
              </svg>
            </span>
            <span>Job Creator</span>
          </nuxt-link>
        </li>
        <li>
          <nuxt-link active-class="is-active" @click="showMenu = false" disabled>
            <span class="icon is-small mr-4">
              <svg width="16" height="17" viewBox="0 0 18 19" fill="none">
                <path
                  d="M15.1875 3.03125H2.8125C2.43954 3.03125 2.08185 3.17941 1.81813 3.44313C1.55441 3.70685 1.40625 4.06454 1.40625 4.4375V14.5625C1.40625 14.9355 1.55441 15.2931 1.81813 15.5569C2.08185 15.8206 2.43954 15.9688 2.8125 15.9688H15.1875C15.5605 15.9688 15.9181 15.8206 16.1819 15.5569C16.4456 15.2931 16.5938 14.9355 16.5938 14.5625V4.4375C16.5938 4.06454 16.4456 3.70685 16.1819 3.44313C15.9181 3.17941 15.5605 3.03125 15.1875 3.03125ZM14.9062 4.71875V6.40625H3.09375V4.71875H14.9062ZM3.09375 14.2812V8.09375H14.9062V14.2812H3.09375Z"
                  fill="currentColor" />
              </svg>
            </span>
            <span>Browser node</span>
          </nuxt-link>
        </li>
        <li>
          <nuxt-link to="/explorer" active-class="is-active" @click="showMenu = false">
            <span class="icon is-small mr-4">
              <svg width="16" height="17" viewBox="0 0 16 17" fill="none">
                <path
                  d="M3.6 12.9L9.6 10.1L12.4 4.1L6.4 6.9L3.6 12.9ZM8 9.3C7.77333 9.3 7.58347 9.2232 7.4304 9.0696C7.27733 8.916 7.20053 8.72613 7.2 8.5C7.2 8.27333 7.2768 8.08347 7.4304 7.9304C7.584 7.77733 7.77387 7.70053 8 7.7C8.22667 7.7 8.4168 7.7768 8.5704 7.9304C8.724 8.084 8.80053 8.27387 8.8 8.5C8.8 8.72667 8.7232 8.9168 8.5696 9.0704C8.416 9.224 8.22613 9.30053 8 9.3ZM8 16.5C6.89333 16.5 5.85333 16.2899 4.88 15.8696C3.90667 15.4493 3.06 14.8795 2.34 14.16C1.62 13.44 1.05013 12.5933 0.6304 11.62C0.210667 10.6467 0.000533333 9.60667 0 8.5C0 7.39333 0.210133 6.35333 0.6304 5.38C1.05067 4.40667 1.62053 3.56 2.34 2.84C3.06 2.12 3.90667 1.55013 4.88 1.1304C5.85333 0.710667 6.89333 0.500533 8 0.5C9.10667 0.5 10.1467 0.710133 11.12 1.1304C12.0933 1.55067 12.94 2.12053 13.66 2.84C14.38 3.56 14.9501 4.40667 15.3704 5.38C15.7907 6.35333 16.0005 7.39333 16 8.5C16 9.60667 15.7899 10.6467 15.3696 11.62C14.9493 12.5933 14.3795 13.44 13.66 14.16C12.94 14.88 12.0933 15.4501 11.12 15.8704C10.1467 16.2907 9.10667 16.5005 8 16.5Z"
                  fill="currentColor" />
              </svg>
            </span>
            <span>Explorer</span>
          </nuxt-link>
        </li>
        <li>
          <nuxt-link active-class="is-active" @click="showMenu = false" disabled>
            <span class="icon is-small mr-4">
              <svg width="16" height="17" viewBox="0 0 16 17" fill="none">
                <path
                  d="M5.81095 16.5L5.49254 13.94C5.32007 13.8733 5.15768 13.7933 5.00537 13.7C4.85307 13.6067 4.70368 13.5067 4.55721 13.4L2.18905 14.4L0 10.6L2.04975 9.04C2.03648 8.94667 2.02985 8.8568 2.02985 8.7704V8.2304C2.02985 8.14347 2.03648 8.05333 2.04975 7.96L0 6.4L2.18905 2.6L4.55721 3.6C4.70315 3.49333 4.85572 3.39333 5.01493 3.3C5.17413 3.20667 5.33333 3.12667 5.49254 3.06L5.81095 0.5H10.1891L10.5075 3.06C10.6799 3.12667 10.8426 3.20667 10.9954 3.3C11.1483 3.39333 11.2974 3.49333 11.4428 3.6L13.8109 2.6L16 6.4L13.9502 7.96C13.9635 8.05333 13.9701 8.14347 13.9701 8.2304V8.7696C13.9701 8.85653 13.9569 8.94667 13.9303 9.04L15.9801 10.6L13.791 14.4L11.4428 13.4C11.2969 13.5067 11.1443 13.6067 10.9851 13.7C10.8259 13.7933 10.6667 13.8733 10.5075 13.94L10.1891 16.5H5.81095ZM8.0398 11.3C8.80929 11.3 9.466 11.0267 10.01 10.48C10.5539 9.93333 10.8259 9.27333 10.8259 8.5C10.8259 7.72667 10.5539 7.06667 10.01 6.52C9.466 5.97333 8.80929 5.7 8.0398 5.7C7.25705 5.7 6.59688 5.97333 6.0593 6.52C5.52173 7.06667 5.2532 7.72667 5.25373 8.5C5.25373 9.27333 5.52252 9.93333 6.0601 10.48C6.59768 11.0267 7.25758 11.3 8.0398 11.3Z"
                  fill="currentColor" />
              </svg>
            </span>
            <span>Settings</span>
          </nuxt-link>
        </li>
        <li>
          <nuxt-link active-class="is-active" @click="showMenu = false" disabled>
            <span class="icon is-small mr-4">
              <svg width="16" height="17" viewBox="0 0 16 17" fill="none">
                <path
                  d="M8 16.5C6.89333 16.5 5.85333 16.2899 4.88 15.8696C3.90667 15.4493 3.06 14.8795 2.34 14.16C1.62 13.44 1.05013 12.5933 0.6304 11.62C0.210667 10.6467 0.000533333 9.60667 0 8.5C0 7.39333 0.210133 6.35333 0.6304 5.38C1.05067 4.40667 1.62053 3.56 2.34 2.84C3.06 2.12 3.90667 1.55013 4.88 1.1304C5.85333 0.710667 6.89333 0.500533 8 0.5C9.10667 0.5 10.1467 0.710133 11.12 1.1304C12.0933 1.55067 12.94 2.12053 13.66 2.84C14.38 3.56 14.9501 4.40667 15.3704 5.38C15.7907 6.35333 16.0005 7.39333 16 8.5C16 9.60667 15.7899 10.6467 15.3696 11.62C14.9493 12.5933 14.3795 13.44 13.66 14.16C12.94 14.88 12.0933 15.4501 11.12 15.8704C10.1467 16.2907 9.10667 16.5005 8 16.5ZM5.68 14.46L6.64 12.26C6.08 12.06 5.5968 11.7501 5.1904 11.3304C4.784 10.9107 4.4672 10.4205 4.24 9.86L2.04 10.78C2.34667 11.6333 2.82 12.38 3.46 13.02C4.1 13.66 4.84 14.14 5.68 14.46ZM4.24 7.14C4.46667 6.58 4.78347 6.09013 5.1904 5.6704C5.59733 5.25067 6.08053 4.94053 6.64 4.74L5.72 2.54C4.86667 2.86 4.12 3.34 3.48 3.98C2.84 4.62 2.36 5.36667 2.04 6.22L4.24 7.14ZM8 10.9C8.66667 10.9 9.23333 10.6667 9.7 10.2C10.1667 9.73333 10.4 9.16667 10.4 8.5C10.4 7.83333 10.1667 7.26667 9.7 6.8C9.23333 6.33333 8.66667 6.1 8 6.1C7.33333 6.1 6.76667 6.33333 6.3 6.8C5.83333 7.26667 5.6 7.83333 5.6 8.5C5.6 9.16667 5.83333 9.73333 6.3 10.2C6.76667 10.6667 7.33333 10.9 8 10.9ZM10.32 14.46C11.16 14.14 11.8968 13.6635 12.5304 13.0304C13.164 12.3973 13.6405 11.6605 13.96 10.82L11.76 9.86C11.56 10.42 11.2533 10.9035 10.84 11.3104C10.4267 11.7173 9.94667 12.0339 9.4 12.26L10.32 14.46ZM11.76 7.1L13.96 6.18C13.64 5.34 13.1635 4.60347 12.5304 3.9704C11.8973 3.33733 11.1605 2.86053 10.32 2.54L9.4 4.78C9.94667 4.98 10.42 5.28347 10.82 5.6904C11.22 6.09733 11.5333 6.5672 11.76 7.1Z"
                  fill="currentColor" />
              </svg>
            </span>
            <span>Help & Support</span>
          </nuxt-link>
        </li>
      </ul>
    </div>
    <ColorModeSwitcher class="mt-auto has-text-right" />
  </aside>
  <nav class="navbar is-hidden-desktop is-fixed-top has-shadow">
    <div class="navbar-brand">
      <nuxt-link to="/" class="navbar-item" @click="showMenu = false">
        <logo width="135px" :animated="true" class="light-only" />
        <logo width="135px" :white="true" class="dark-only" :animated="true" />
      </nuxt-link>

      <a role="button" class="navbar-burger" :class="{ 'is-active': showMenu }" @click="showMenu = !showMenu">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
      </a>
    </div>
  </nav>
</template>

<script lang="ts" setup>
const showMenu = ref(false);
</script>

<style lang="scss" scoped>
.sidebar {
  box-shadow: 0px 6px 40px 0px rgba(0, 0, 0, 0.08);
  width: 100%;
  max-width: 280px;
  height: 100vh;
  display: flex;
  flex-direction: column;
  position: sticky;
  padding: 30px;
  top: 0;
}

.menu-list {
  li:not(:last-child) {
    margin-bottom: 15px;
  }

  [disabled] {
    pointer-events: none;
  }

  .icon {
    opacity: 0.5;
  }

  .is-active {
    .icon {
      color: $secondary;
      opacity: 1;
    }
  }
}





@include touch {
  .sidebar {
    max-width: unset !important;
    position: fixed;
    width: 100% !important;
    height: calc(100% - $navbar-height);
    top: $navbar-height;
    z-index: 1;
  }
}
</style>
